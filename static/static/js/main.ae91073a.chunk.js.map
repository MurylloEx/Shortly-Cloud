{"version":3,"sources":["components/Alert.tsx","components/Footer.tsx","constants/index.tsx","services/api.ts","hooks/useGetRequest.ts","utils.js","pages/HomePage/index.tsx","pages/SeeClickedAmount/index.tsx","routes.tsx","App.tsx","index.tsx"],"names":["Alert","isError","content","className","role","Footer","Date","getFullYear","ErrorsTextAlert","api","axios","create","baseURL","useGetRequest","url","configs","options","useQuery","queryKey","queryFn","get","validateUrl","link","RegExp","test","findTheShortCodeInAUrl","text","exec","findText","substr","HomePage","useState","inputField","setInputField","shortCode","setShortCode","clicked","setClicked","errors","setErrors","response","encodeURIComponent","data","useEffect","localStorage","setItem","alt","src","title","length","style","height","onSubmit","event","preventDefault","short_code","type","placeholder","aria-label","aria-describedby","value","disabled","onChange","target","onClick","navigator","clipboard","writeText","to","SeeClickedAmount","params","useParams","recentUrlShorted","getItem","clickedAmount","total_clicks","document","color","href","includes","Routes","path","exact","component","queryClient","QueryClient","App","QueryClientProvider","client","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ae91073a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function Alert({\r\n  isError,\r\n  content,\r\n}: {\r\n  isError?: boolean;\r\n  content: string;\r\n}) {\r\n  return isError ? (\r\n    <div className=\"container mb-2\">\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        {content}\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"container mb-2\">\r\n      <div className=\"alert alert-primary\" role=\"alert\">\r\n        {content}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"mt-4 \">\r\n      © {new Date().getFullYear()}{\" \"}\r\n      <strong>Shortly: O encurtador mais funcional de todos</strong>\r\n    </footer>\r\n  );\r\n}\r\n","export const ErrorsTextAlert = {\r\n  invalidField: \"Por favor, preencha o campo com um link\",\r\n  invalidLink: \"Por favor, preencha o campo com um link valido\",\r\n  notEncurtedLink: \"Por favor, preencha o campo com um link encurtado\",\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"https://shortly.cloud/\",\r\n});\r\n\r\nexport default api;\r\n","import { useQuery } from \"react-query\";\r\nimport api from \"../services/api\";\r\n\r\nexport default function useGetRequest(url: string, configs = {}, options = {}) {\r\n  return useQuery({\r\n    ...options,\r\n    queryKey: [url, configs],\r\n    queryFn: () => api.get(url, configs),\r\n  });\r\n}\r\n","export function validateUrl(link) {\r\n  const reg = new RegExp(\r\n    /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/gim\r\n  );\r\n  const isValid = reg.test(link);\r\n\r\n  return isValid;\r\n}\r\n\r\nexport function findText(text) {\r\n  const reg = new RegExp(/(\\/)\\w{5}/gim);\r\n  const rex = reg.exec(text) ?? \"\";\r\n\r\n  return rex[0];\r\n}\r\n\r\nexport function findTheShortCodeInAUrl(url) {\r\n  return findText(url).substr(-5);\r\n}\r\n","import React, { FormEvent, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Footer, Alert } from \"../../components/\";\r\nimport { ErrorsTextAlert } from \"../../constants/\";\r\nimport { useGetRequest } from \"../../hooks\";\r\nimport { validateUrl } from \"../../utils\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function HomePage() {\r\n  const [inputField, setInputField] = useState<string>(\"\");\r\n  const [shortCode, setShortCode] = useState<string>(\"\");\r\n  const [clicked, setClicked] = useState(false);\r\n  const [errors, setErrors] = useState<Array<String>>([]);\r\n\r\n  const { data: response } = useGetRequest(\r\n    `s?real_url=${encodeURIComponent(inputField)}`\r\n  );\r\n\r\n  function handleSubmit(event: FormEvent) {\r\n    event.preventDefault();\r\n\r\n    if (validateUrl(inputField) === false) {\r\n      setInputField(\"\");\r\n      return setErrors([...errors, ErrorsTextAlert.invalidLink]);\r\n    } else if (inputField === \"\") {\r\n      return setErrors([...errors, ErrorsTextAlert.invalidField]);\r\n    } else if (!!response?.data === false) {\r\n      return;\r\n    }\r\n\r\n    setErrors([]);\r\n\r\n    const { short_code } = response?.data;\r\n\r\n    setShortCode(short_code);\r\n\r\n    setInputField(`https://shortly.cloud/c/${short_code ?? null}`);\r\n\r\n    setClicked(true);\r\n  }\r\n\r\n  function copyToClipboard() {\r\n    return navigator.clipboard.writeText(inputField);\r\n  }\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"@recent-url-shorted\", inputField);\r\n  }, [inputField]);\r\n\r\n  return (\r\n    <div>\r\n      <img\r\n        alt=\"logo\"\r\n        className=\"shortly-logo\"\r\n        src=\"https://i.imgur.com/IPy0h87.png\"\r\n        title=\"ShortLy_logo\"\r\n      />\r\n      {errors.length !== 0 && (\r\n        <Alert isError content={`${errors[errors.length - 1]}`} />\r\n      )}\r\n\r\n      {clicked && (\r\n        <Alert content=\"Clique no botão copiar para utilizar a URL encurtada\" />\r\n      )}\r\n      <div className=\"container\" style={{ height: 32 }}></div>\r\n      <div className=\"container\">\r\n        <div className=\"style_card_apresentacao\">\r\n          <h2 className=\"text-center\">\r\n            {clicked ? `URL encurtada ✔️` : `Cole a URL para ser encurtada`}\r\n          </h2>\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"input-url input-group mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Cole o link aqui\"\r\n                aria-label=\"Cole o link aqui\"\r\n                aria-describedby=\"button-addon2\"\r\n                value={inputField}\r\n                disabled={clicked}\r\n                onChange={(event) => setInputField(event.target.value)}\r\n              ></input>\r\n              <div className=\"input-group-append\">\r\n                {clicked ? (\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-success\"\r\n                    onClick={copyToClipboard}\r\n                  >\r\n                    Copiar URL\r\n                  </button>\r\n                ) : (\r\n                  <button type=\"submit\" className=\"btn btn-primary button-url\">\r\n                    Encurtar URL\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </form>\r\n          {clicked && (\r\n            <div className=\"row\">\r\n              <p className=\"text-url\">\r\n                O Encurtador de URL permite diminuir um link longo tornando-o\r\n                fácil de lembrar Após encurtar a URL, é possível saber{\" \"}\r\n                <Link to={`/click/${shortCode}`}>\r\n                  quantos cliques ela recebeu\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"text-center mt-5\">\r\n        <div className=\"container mb-5\">\r\n          <div className=\"row\">\r\n            <div className=\"col-sm\">\r\n              <img\r\n                src=\"https://i.ibb.co/h79nxr8/1.png\"\r\n                alt=\"easy-and-intuitive\"\r\n              />\r\n              <p className=\"mt-3\">FÁCIL E INTUITIVO</p>\r\n              <p className=\"text-justify text-info mb-5\">\r\n                Domínio fácil e intuitivo de se memorizar e usar, tornando os\r\n                seus links encurtados mais amigáveis para se compartilhar e\r\n                facilitando o engajamento da sua audiência.\r\n              </p>\r\n            </div>\r\n            <div className=\"col-sm\">\r\n              <img src=\"https://i.ibb.co/nmKqsbv/2.png\" alt=\"secure-links\" />\r\n              <p className=\"mt-3\">LINKS SEGUROS</p>\r\n              <p className=\"text-justify text-info mb-5\">\r\n                Todas as suas URLs encurtadas são criptografas por padrão,\r\n                tornandos as mais seguras através de certif icados de segurança\r\n                (HTTPS) consolidados no mercado.\r\n              </p>\r\n            </div>\r\n            <div className=\"col-sm\">\r\n              <img src=\"https://i.ibb.co/7vxRz2y/3.png\" alt=\"simplify\" />\r\n              <p className=\"mt-3\">FEITO PARA SIMPLIFICAR</p>\r\n              <p className=\"text-justify text-info mb-5\">\r\n                Tendo como objetivo principal encurtar links, nós focamos na\r\n                melhor experiência possível para que você consiga encurtá-los da\r\n                maneira mais simples e rápida possível.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","import React, { FormEvent, useEffect, useState } from \"react\";\r\nimport { useGetRequest } from \"../../hooks\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { findTheShortCodeInAUrl, validateUrl } from \"../../utils\";\r\nimport { Footer, Alert } from \"../../components/\";\r\nimport { ErrorsTextAlert } from \"../../constants/\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst INCLUDE_TEST = \"https://shortly.cloud/\";\r\n\r\nexport default function SeeClickedAmount() {\r\n  const [inputField, setInputField] = useState<string>(\"\");\r\n  const [shortCode, setShortCode] = useState(\"\");\r\n  const [errors, setErrors] = useState<Array<String>>([]);\r\n\r\n  const params = useParams<any>();\r\n\r\n  const recentUrlShorted = localStorage.getItem(\"@recent-url-shorted\");\r\n\r\n  const { data: response } = useGetRequest(\r\n    `c/${shortCode !== \"\" ? shortCode : params?.short_code}/clicks`\r\n  );\r\n\r\n  function handleSubmit(event: FormEvent) {\r\n    event.preventDefault();\r\n\r\n    if (validateUrl(inputField) === false) {\r\n      setInputField(\"\");\r\n      return setErrors([...errors, ErrorsTextAlert.invalidLink]);\r\n    } else if (inputField === \"\") {\r\n      return setErrors([...errors, ErrorsTextAlert.invalidLink]);\r\n    } else if (!!response?.data === false) {\r\n      return;\r\n    } else if (!inputField.includes(INCLUDE_TEST)) {\r\n      setInputField(\"\");\r\n      return setErrors([...errors, ErrorsTextAlert.notEncurtedLink]);\r\n    }\r\n    setErrors([]);\r\n    setShortCode(findTheShortCodeInAUrl(inputField));\r\n  }\r\n\r\n  const clickedAmount = response?.data?.total_clicks ?? 0;\r\n\r\n  useEffect(() => {\r\n    document.title = `Shortly (${clickedAmount})`;\r\n  }, [clickedAmount]);\r\n\r\n  return (\r\n    <div>\r\n      <img\r\n        className=\"shortly-logo\"\r\n        src=\"https://i.imgur.com/IPy0h87.png\"\r\n        title=\"ShortLy_logo\"\r\n        alt=\"ShortLy_logo\"\r\n      />\r\n      {errors.length !== 0 && (\r\n        <Alert isError content={`${errors[errors.length - 1]}`} />\r\n      )}\r\n\r\n      <div className=\"container\" style={{ height: 32 }}></div>\r\n      <div className=\"container\">\r\n        <div className=\"style_card_apresentacao\">\r\n          <h3 className=\"text-center\">\r\n            Contador de Cliques da URL:{\" \"}\r\n            <a style={{ color: \"#24d3ee\" }} href={recentUrlShorted ?? \"\"}>\r\n              {recentUrlShorted}\r\n            </a>{\" \"}\r\n          </h3>\r\n          <h2 className=\"text-center style-number-count\">{clickedAmount}</h2>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"input-url input-group mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Digite aqui para ver outra URL encurtada\"\r\n                aria-label=\"Digite aqui para ver outra URL encurtada\"\r\n                aria-describedby=\"button-addon2\"\r\n                value={inputField}\r\n                onChange={(event) => setInputField(event.target.value)}\r\n              ></input>\r\n              <div className=\"input-group-append\">\r\n                <button type=\"submit\" className=\"btn btn-primary button-url\">\r\n                  Contar Cliques\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\n\r\nimport HomePage from \"./pages/HomePage\";\r\nimport SeeClickedAmount from \"./pages/SeeClickedAmount\";\r\n\r\nexport default function Routes() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={HomePage} />\r\n        <Route path=\"/click/:short_code\" component={SeeClickedAmount} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { QueryClient, QueryClientProvider } from \"react-query\";\r\n\r\nimport Routes from \"./routes\";\r\nimport \"./styles/global.css\";\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nexport default function App() {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <Routes />\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}